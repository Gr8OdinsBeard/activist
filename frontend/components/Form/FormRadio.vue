<template>
  <input v-bind="{ ...$attrs, onChange: updateValue }" :checked="modelValue === value" :id="uuid" type="checkbox"
    class="field" />
  <label :for="uuid" v-if="label">
    {{ label }}
  </label>
  <BaseErrorMessage v-if="error" :id="`${uuid}-error`">
    {{ error }}
  </BaseErrorMessage>
</template>
  
<script setup>
import useUniqueID from "@/composables/useUniqueID";
import useFormInput from '@/composables/useFormSetup';

const props = defineProps({
  label: {
    type: String,
    default: ''
  },
  modelValue: {
    type: Boolean
  },
  error: {
    type: String,
    default: ''
  }
})

const emit = defineEmits(['update:modelValue']);
const { updateValue } = useFormInput(props, emit);
const uuid = useUniqueID().getID();

</script>